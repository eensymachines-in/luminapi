<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autolumin</title>
    <link rel="stylesheet" href="http://cdn.eensymachines.in/static/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="http://cdn.eensymachines.in/static/bootswatch/superhero/bootstrap.min.css">
    <link rel="stylesheet" href="http://cdn.eensymachines.in/static/bootstrap-icons/bootstrap-icons.css">
    <link rel="stylesheet" href="http://cdn.eensymachines.in/static/fortawesome/all.css">
    <link rel="stylesheet" href="/styles/lumin.css">

    <script src="http://cdn.eensymachines.in/static/jquery/jquery.min.js"></script>
    <!-- https://stackoverflow.com/questions/26562366/bootstrap-popover-is-not-working -->
    <!-- https://stackoverflow.com/questions/57126981/bootstraps-tooltips-require-popper-js -->
    <script src="http://cdn.eensymachines.in/static/popper/popper.min.js"></script>
    <script src="http://cdn.eensymachines.in/static/bootstrapjs/bootstrap.min.js"></script>
    <script src="http://cdn.eensymachines.in/static/angular/angular.min.js"></script>
    <script src="http://cdn.eensymachines.in/static/angular-route/angular-route.min.js"></script>
    <!-- Custom javascript and styles -->
    <script src="luminapp.js" type="text/javascript"></script>
    <script src="/ctrls/loginCtrl.js" type="text/javascript"></script>
    <script src="/ctrls/accCtrls.js" type="text/javascript"></script>
    <script src="/ctrls/navbarCtrl.js" type="text/javascript"></script>
    <script src="/ctrls/schedCtrl.js" type="text/javascript"></script>

    <script src="/srvs/srvapi.js" type="text/javascript"></script>
    <script src="/srvs/lclstorage.js" type="text/javascript"></script>
    <script src="/srvs/misc.js" type="text/javascript"></script>
    
    <script src="/dirtvs/errModal.js" type="text/javascript"></script>
    <script src="/dirtvs/socialFooter.js" type="text/javascript"></script>
    <script src="/dirtvs/authorizeOnly.js" type="text/javascript"></script>
    <script src="/dirtvs/submitConfirm.js" type="text/javascript"></script>
    <script src="/dirtvs/accDetails.js" type="text/javascript"></script>
    <script src="/dirtvs/tableLists.js" type="text/javascript"></script>
    <script src="/dirtvs/timeSelect.js" type="text/javascript"></script>
    <script src="/dirtvs/schedEdit.js" type="text/javascript"></script>
    
</head>
<body ng-app="luminapp">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark" ng-controller="navbarCtrl">
        <a class="navbar-brand text-info" href="#" >Eensymachines</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" 
          aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarColor01">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home
                <span class="sr-only">(current)</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#!/about">About</a>
            </li>
          </ul>
          <!-- this is the right rending user account drop down  -->
          <ul class="navbar-nav">
            <li class="nav-item">
              <h6><a class="nav-link" href="#!/signup">Signup</a></h6>
            </li>
          </ul>
          <!-- Since the menu has right align -->
          <!-- this menu appears only when the authInfo is available -->
          <ul class="navbar-nav" ng-if="authInfo">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                    <span style="font-size:28px;"><i class="fas fa-user-circle"></i></span>
                </a>
                <div class="dropdown-menu dropdown-menu-right" >
                  <h6><a class="dropdown-item" href="#!/{[authInfo.email]}/account"><i class="fas fa-sliders-h"></i>&nbsp;Account</a></h6>
                  <h6><a class="dropdown-item" href="#!/{[authInfo.email]}/devices"><i class="fas fa-microchip"></i>&nbsp;Devices</a></h6>
                  <!-- <h6><a class="dropdown-item" href=""><i class="far fa-clock"></i>&nbsp;Schedules</a></h6> -->
                  <div class="dropdown-divider"></div>
                  <h6><a class="dropdown-item" href="#!/"><i class="bi bi-box-arrow-right"></i>&nbsp;Logout</a></h6>
                </div>
              </li>
          </ul>
          <!-- below is the optional menu where only admins can access -->
          <ul class="navbar-nav" ng-if="authInfo.role>1">
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                <span style="font-size:28px;"><i class="fas fa-user-shield"></i></span>
            </a>
            <div class="dropdown-menu dropdown-menu-right">
                <!-- deal with the accounts and then the devices therein -->
                <h6><a class="dropdown-item" href="#!/admin/accounts"><i class="fas fa-tools"></i>&nbsp;Manage accounts</a></h6>
                <!-- black listed devices can be reclaimed here -->
                <h6><a class="dropdown-item" href="#!/admin/embargo"><i class="fas fa-shield-alt"></i>&nbsp;Embargo devices</a></h6>
            </div>
          </ul>
        </div>
      </nav>
      <div ng-view></div>
      <err-modal></err-modal>
      <success-modal></success-modal>
      <social-footer></social-footer>
</body>
</html>